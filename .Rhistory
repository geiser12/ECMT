knitr::opts_chunk$set(echo = TRUE)
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "quarterly", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "quarterly")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
macro_data1<- macro_data1[-c(182),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "quarterly", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "quarterly")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
#macro_data1<- macro_data1[-c(182),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
log_gdp<- 100*diff(log(GDP1$Value))
log_yield<- 100*diff(log(yield$Value))
log_gdp<- 100*diff(log1p(GDP1$Value))
log_yield<- 100*diff(log1p(yield$Value))
log_gdp<- 100*diff(log1p(GDP1$Value))
log_yield<- 100*diff(log10(yield$Value))
log_gdp<- 100*diff(log1p(GDP1$Value))
log_yield<- 100*diff(log1p(yield$Value))
log_gdp<- 100*diff(log1p(GDP1$Value))
#combine the two dataframes before analysis
diff_int_spread<- diff(as.numeric(unlist(yield$Value)))
macro_data$lagged<- diff_int_spread
View(macro_data1)
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "quarterly", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "quarterly")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
macro_data1<- macro_data1[-c(183),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
#combine the two dataframes before analysis
diff_int_spread<- diff(as.numeric(unlist(yield$Value)))
macro_data$lagged<- diff_int_spread
fullmodel <- lm(log_gdp~lagged, data = macro_data)
View(GDP1)
macro_data$log_gdp<- log_gdp
knitr::opts_chunk$set(echo = TRUE)
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "yearly", transform = "rdiff")
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
macro_data1<- macro_data1[-c(182),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
#combine the two dataframes before analysis
diff_int_spread<- diff(as.numeric(unlist(yield$Value)))
macro_data$lagged<- diff_int_spread
fullmodel <- lm(Value~lagged, data = macro_data)
summary(fullmodel)
fit=ts(fullmodel$fitted.values)
fit<- data.frame(fit)
GDP1$fit <- fit
GDP1$fit<- unlist(GDP1$fit)
data_combine=cbind(GDP1$Value,fit)
ggplot()+
geom_line(data = GDP1, aes(x=Date, y = Value), color="red")+
geom_line(data = GDP1, aes(x=Date, y = fit), color="blue")
plot(data_combine,main="GDP growth rate",plot.type=c("single"),xlab = "date",ylab="growth Rate",col=c("blue","red"),lty=1:2)
legend("bottomright",legend=c("data","in-sample fit"),col=c("blue","red"),lty=1:2)
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual", transform = "rdiff")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
macro_data1<- macro_data1[-c(182),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual", transform = "rdiff")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
#macro_data1<- macro_data1[-c(182),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
#combine the two dataframes before analysis
diff_int_spread<- diff(as.numeric(unlist(yield$Value)))
macro_data$lagged<- diff_int_spread
#load libraries
library(tidyverse)
library(ggplot2)
library(quantmod)
library(Quandl)
#read in the data from fred
#first data set is the real GPD growth
#second data set loaded in will be: 10-Year Treasury Constant Maturity Minus 2-Year Treasury Constant Maturity
Quandl.api_key("Bsjtos3Rumnys9NRFspt")
macro_data <- Quandl("FRED/GDPC1", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual", transform = "rdiff")
macro_data1 <- Quandl("FRED/T10Y2Y", start_date="1976-06-01", end_date="2021-12-31", collapse = "annual")
macro_data<-data.frame(macro_data)
macro_data1<-data.frame(macro_data1)
#delete NA rows
#macro_data1<- macro_data1[-c(182),]
GDP1<- macro_data %>% select(
Date, Value
)
yield<- macro_data1 %>% select(
Date, Value
)
#plot GDP and the yield
GDP_graph<-ggplot()+
geom_line(data = GDP1, aes(x = Date, y = Value))+
theme_classic()
print(GDP_graph)
yield_graph<-ggplot()+
geom_line(data = yield, aes(x = Date, y = Value))+
theme_classic()
print(yield_graph)
#combine the two dataframes before analysis
diff_int_spread<- diff(as.numeric(unlist(yield$Value)))
macro_data$lagged<- diff_int_spread
fullmodel <- lm(Value~lagged, data = macro_data)
summary(fullmodel)
fit=ts(fullmodel$fitted.values)
fit<- data.frame(fit)
GDP1$fit <- fit
GDP1$fit<- unlist(GDP1$fit)
data_combine=cbind(GDP1$Value,fit)
ggplot()+
geom_line(data = GDP1, aes(x=Date, y = Value), color="red")+
geom_line(data = GDP1, aes(x=Date, y = fit), color="blue")
plot(data_combine,main="GDP growth rate",plot.type=c("single"),xlab = "date",ylab="growth Rate",col=c("blue","red"),lty=1:2)
legend("bottomright",legend=c("data","in-sample fit"),col=c("blue","red"),lty=1:2)
